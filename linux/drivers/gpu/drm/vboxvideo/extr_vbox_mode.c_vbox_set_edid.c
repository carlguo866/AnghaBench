
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct edid {int dummy; } ;
struct drm_connector {int dummy; } ;


 int drm_connector_update_edid_property (struct drm_connector*,struct edid*) ;

__attribute__((used)) static void vbox_set_edid(struct drm_connector *connector, int width,
     int height)
{
 enum { EDID_SIZE = 128 };
 unsigned char edid[EDID_SIZE] = {
  0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00,
  0x58, 0x58,
  0x00, 0x00,
  0x00, 0x00, 0x00, 0x00,
  0x01,
  0x00,
  0x01, 0x03,
  0x80,
  0x00,
  0x00,
  0x78,
  0xEE,

  0xEE, 0x91, 0xA3, 0x54, 0x4C, 0x99, 0x26, 0x0F, 0x50, 0x54,

  0x00, 0x00, 0x00,
  0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01, 0x01,
      0x01, 0x01,
  0x01, 0x01, 0x01, 0x01,
  0x00, 0x00, 0x00, 0x06, 0x00, 0x00, 0x06, 0x00, 0x02, 0x02,
      0x02, 0x02,

  0x00, 0x00, 0x00, 0x00, 0x00, 0x00,

  0x00, 0x00, 0x00, 0xFD, 0x00,
  0x00, 0xC8, 0x00, 0xC8, 0x64, 0x00, 0x0A, 0x20, 0x20, 0x20,
      0x20, 0x20,

  0x20,

  0x00, 0x00, 0x00, 0xFC, 0x00,
  'V', 'B', 'O', 'X', ' ', 'm', 'o', 'n', 'i', 't', 'o', 'r',
  '\n',

  0x00, 0x00, 0x00, 0x10, 0x00,
  0x0A, 0x20, 0x20, 0x20, 0x20, 0x20,
  0x20, 0x20, 0x20, 0x20, 0x20, 0x20,
  0x20,
  0x00,
  0x00
 };
 int clock = (width + 6) * (height + 6) * 60 / 10000;
 unsigned int i, sum = 0;

 edid[12] = width & 0xff;
 edid[13] = width >> 8;
 edid[14] = height & 0xff;
 edid[15] = height >> 8;
 edid[54] = clock & 0xff;
 edid[55] = clock >> 8;
 edid[56] = width & 0xff;
 edid[58] = (width >> 4) & 0xf0;
 edid[59] = height & 0xff;
 edid[61] = (height >> 4) & 0xf0;
 for (i = 0; i < EDID_SIZE - 1; ++i)
  sum += edid[i];
 edid[EDID_SIZE - 1] = (0x100 - (sum & 0xFF)) & 0xFF;
 drm_connector_update_edid_property(connector, (struct edid *)edid);
}
