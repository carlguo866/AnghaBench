
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int u32 ;
struct amdgpu_device {int dummy; } ;


 int CRASH_ON_NO_RETRY_FAULT ;
 int CRASH_ON_RETRY_FAULT ;
 int DUMMY_PAGE_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int EXECUTE_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int MMHUB ;
 int MMHUB_INSTANCE_REGISTER_OFFSET ;
 int MMHUB_NUM_INSTANCES ;
 int NACK_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int PDE0_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int PDE1_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int PDE2_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int RANGE_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int READ_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int REG_SET_FIELD (int ,int ,int ,int) ;
 int RREG32_SOC15_OFFSET (int ,int ,int ,int) ;
 int TRANSLATE_FURTHER_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int VALID_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int VML2PF0_VM_L2_PROTECTION_FAULT_CNTL ;
 int WREG32_SOC15_OFFSET (int ,int ,int ,int,int ) ;
 int WRITE_PROTECTION_FAULT_ENABLE_DEFAULT ;
 int mmVML2PF0_VM_L2_PROTECTION_FAULT_CNTL ;

void mmhub_v9_4_set_fault_enable_default(struct amdgpu_device *adev, bool value)
{
 u32 tmp;
 int i;

 for (i = 0; i < MMHUB_NUM_INSTANCES; i++) {
  tmp = RREG32_SOC15_OFFSET(MMHUB, 0,
       mmVML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
       i * MMHUB_INSTANCE_REGISTER_OFFSET);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        RANGE_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        PDE0_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        PDE1_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        PDE2_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  tmp = REG_SET_FIELD(tmp,
       VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
       TRANSLATE_FURTHER_PROTECTION_FAULT_ENABLE_DEFAULT,
       value);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        NACK_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        DUMMY_PAGE_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        VALID_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        READ_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        WRITE_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  tmp = REG_SET_FIELD(tmp, VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        EXECUTE_PROTECTION_FAULT_ENABLE_DEFAULT,
        value);
  if (!value) {
   tmp = REG_SET_FIELD(tmp,
         VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
         CRASH_ON_NO_RETRY_FAULT, 1);
   tmp = REG_SET_FIELD(tmp,
         VML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
         CRASH_ON_RETRY_FAULT, 1);
  }

  WREG32_SOC15_OFFSET(MMHUB, 0,
        mmVML2PF0_VM_L2_PROTECTION_FAULT_CNTL,
        i * MMHUB_INSTANCE_REGISTER_OFFSET, tmp);
 }
}
