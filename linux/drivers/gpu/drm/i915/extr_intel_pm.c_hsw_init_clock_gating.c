
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct drm_i915_private {int dummy; } ;


 int CACHE_MODE_0_GEN7 ;
 int CACHE_MODE_1 ;
 int GAM_ECOCHK ;
 int GEN6_WIZ_HASHING_16x4 ;
 int GEN6_WIZ_HASHING_MASK ;
 int GEN7_FF_THREAD_MODE ;
 int GEN7_FF_VS_REF_CNT_FFME ;
 int GEN7_GT_MODE ;
 int GEN7_SQ_CHICKEN_MBCUNIT_CONFIG ;
 int GEN7_SQ_CHICKEN_MBCUNIT_SQINTMOB ;
 int HALF_SLICE_CHICKEN3 ;
 int HIZ_RAW_STALL_OPT_DISABLE ;
 int HSW_ECOCHK_ARB_PRIO_SOL ;
 int HSW_ROW_CHICKEN3 ;
 int HSW_ROW_CHICKEN3_L3_GLOBAL_ATOMICS_DISABLE ;
 int HSW_SAMPLE_C_PERFORMANCE ;
 int HSW_SCRATCH1 ;
 int HSW_SCRATCH1_L3_DATA_ATOMICS_DISABLE ;
 int I915_READ (int ) ;
 int I915_WRITE (int ,int) ;
 int PIXEL_SUBSPAN_COLLECT_OPT_DISABLE ;
 int RC_OP_FLUSH_ENABLE ;
 int _MASKED_BIT_DISABLE (int ) ;
 int _MASKED_BIT_ENABLE (int ) ;
 int _MASKED_FIELD (int ,int ) ;
 int lpt_init_clock_gating (struct drm_i915_private*) ;

__attribute__((used)) static void hsw_init_clock_gating(struct drm_i915_private *dev_priv)
{

 I915_WRITE(HSW_SCRATCH1, HSW_SCRATCH1_L3_DATA_ATOMICS_DISABLE);
 I915_WRITE(HSW_ROW_CHICKEN3,
     _MASKED_BIT_ENABLE(HSW_ROW_CHICKEN3_L3_GLOBAL_ATOMICS_DISABLE));


 I915_WRITE(GEN7_SQ_CHICKEN_MBCUNIT_CONFIG,
   I915_READ(GEN7_SQ_CHICKEN_MBCUNIT_CONFIG) |
   GEN7_SQ_CHICKEN_MBCUNIT_SQINTMOB);


 I915_WRITE(GEN7_FF_THREAD_MODE,
     I915_READ(GEN7_FF_THREAD_MODE) & ~GEN7_FF_VS_REF_CNT_FFME);


 I915_WRITE(CACHE_MODE_0_GEN7, _MASKED_BIT_DISABLE(RC_OP_FLUSH_ENABLE));


 I915_WRITE(CACHE_MODE_0_GEN7,
     _MASKED_BIT_DISABLE(HIZ_RAW_STALL_OPT_DISABLE));


 I915_WRITE(CACHE_MODE_1,
     _MASKED_BIT_ENABLE(PIXEL_SUBSPAN_COLLECT_OPT_DISABLE));
 I915_WRITE(GEN7_GT_MODE,
     _MASKED_FIELD(GEN6_WIZ_HASHING_MASK, GEN6_WIZ_HASHING_16x4));


 I915_WRITE(HALF_SLICE_CHICKEN3,
     _MASKED_BIT_ENABLE(HSW_SAMPLE_C_PERFORMANCE));


 I915_WRITE(GAM_ECOCHK, I915_READ(GAM_ECOCHK) | HSW_ECOCHK_ARB_PRIO_SOL);

 lpt_init_clock_gating(dev_priv);
}
