
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int u32 ;
struct drm_i915_private {int dummy; } ;


 int CACHE_MODE_0 ;
 int CM0_STC_EVICT_DISABLE_LRA_SNB ;
 int GEN6_BLBUNIT_CLOCK_GATE_DISABLE ;
 int GEN6_CSUNIT_CLOCK_GATE_DISABLE ;
 int GEN6_GT_MODE ;
 int GEN6_RCCUNIT_CLOCK_GATE_DISABLE ;
 int GEN6_RCPBUNIT_CLOCK_GATE_DISABLE ;
 int GEN6_UCGCTL1 ;
 int GEN6_UCGCTL2 ;
 int GEN6_WIZ_HASHING_16x4 ;
 int GEN6_WIZ_HASHING_MASK ;
 int I915_READ (int ) ;
 int I915_WRITE (int ,int) ;
 int ILK_DISPLAY_CHICKEN1 ;
 int ILK_DISPLAY_CHICKEN2 ;
 int ILK_DPARBUNIT_CLOCK_GATE_ENABLE ;
 int ILK_DPARB_GATE ;
 int ILK_DPFDUNIT_CLOCK_GATE_ENABLE ;
 int ILK_DSPCLK_GATE_D ;
 int ILK_ELPIN_409_SELECT ;
 int ILK_FBCQ_DIS ;
 int ILK_PABSTRETCH_DIS ;
 int ILK_VRHUNIT_CLOCK_GATE_DISABLE ;
 int ILK_VSDPFD_FULL ;
 int RC_OP_FLUSH_ENABLE ;
 int _3D_CHICKEN ;
 int _3D_CHICKEN3 ;
 int _3D_CHICKEN3_SF_DISABLE_FASTCLIP_CULL ;
 int _3D_CHICKEN3_SF_DISABLE_PIPELINED_ATTR_FETCH ;
 int _3D_CHICKEN_HIZ_PLANE_DISABLE_MSAA_4X_SNB ;
 int _MASKED_BIT_DISABLE (int ) ;
 int _MASKED_BIT_ENABLE (int ) ;
 int _MASKED_FIELD (int ,int ) ;
 int cpt_init_clock_gating (struct drm_i915_private*) ;
 int g4x_disable_trickle_feed (struct drm_i915_private*) ;
 int gen6_check_mch_setup (struct drm_i915_private*) ;

__attribute__((used)) static void gen6_init_clock_gating(struct drm_i915_private *dev_priv)
{
 u32 dspclk_gate = ILK_VRHUNIT_CLOCK_GATE_DISABLE;

 I915_WRITE(ILK_DSPCLK_GATE_D, dspclk_gate);

 I915_WRITE(ILK_DISPLAY_CHICKEN2,
     I915_READ(ILK_DISPLAY_CHICKEN2) |
     ILK_ELPIN_409_SELECT);


 I915_WRITE(_3D_CHICKEN,
     _MASKED_BIT_ENABLE(_3D_CHICKEN_HIZ_PLANE_DISABLE_MSAA_4X_SNB));


 I915_WRITE(CACHE_MODE_0, _MASKED_BIT_DISABLE(RC_OP_FLUSH_ENABLE));
 I915_WRITE(GEN6_GT_MODE,
     _MASKED_FIELD(GEN6_WIZ_HASHING_MASK, GEN6_WIZ_HASHING_16x4));

 I915_WRITE(CACHE_MODE_0,
     _MASKED_BIT_DISABLE(CM0_STC_EVICT_DISABLE_LRA_SNB));

 I915_WRITE(GEN6_UCGCTL1,
     I915_READ(GEN6_UCGCTL1) |
     GEN6_BLBUNIT_CLOCK_GATE_DISABLE |
     GEN6_CSUNIT_CLOCK_GATE_DISABLE);
 I915_WRITE(GEN6_UCGCTL2,
     GEN6_RCPBUNIT_CLOCK_GATE_DISABLE |
     GEN6_RCCUNIT_CLOCK_GATE_DISABLE);


 I915_WRITE(_3D_CHICKEN3,
     _MASKED_BIT_ENABLE(_3D_CHICKEN3_SF_DISABLE_FASTCLIP_CULL));






 I915_WRITE(_3D_CHICKEN3,
     _MASKED_BIT_ENABLE(_3D_CHICKEN3_SF_DISABLE_PIPELINED_ATTR_FETCH));
 I915_WRITE(ILK_DISPLAY_CHICKEN1,
     I915_READ(ILK_DISPLAY_CHICKEN1) |
     ILK_FBCQ_DIS | ILK_PABSTRETCH_DIS);
 I915_WRITE(ILK_DISPLAY_CHICKEN2,
     I915_READ(ILK_DISPLAY_CHICKEN2) |
     ILK_DPARB_GATE | ILK_VSDPFD_FULL);
 I915_WRITE(ILK_DSPCLK_GATE_D,
     I915_READ(ILK_DSPCLK_GATE_D) |
     ILK_DPARBUNIT_CLOCK_GATE_ENABLE |
     ILK_DPFDUNIT_CLOCK_GATE_ENABLE);

 g4x_disable_trickle_feed(dev_priv);

 cpt_init_clock_gating(dev_priv);

 gen6_check_mch_setup(dev_priv);
}
