
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct drm_i915_private {int dummy; } ;


 int CACHE_MODE_0_GEN7 ;
 int CACHE_MODE_1 ;
 int CHICKEN3_DGMG_DONE_FIX_DISABLE ;
 int CHICKEN3_DGMG_REQ_OUT_FIX_DISABLE ;
 int DOP_CLOCK_GATING_DISABLE ;
 int GCFG_DIS ;
 int GEN6_RCZUNIT_CLOCK_GATE_DISABLE ;
 int GEN6_UCGCTL2 ;
 int GEN6_WIZ_HASHING_16x4 ;
 int GEN6_WIZ_HASHING_MASK ;
 int GEN7_GT_MODE ;
 int GEN7_HALF_SLICE_CHICKEN1 ;
 int GEN7_L3BANK2X_CLOCK_GATE_DISABLE ;
 int GEN7_L3SQCREG1 ;
 int GEN7_L3SQCREG4 ;
 int GEN7_MAX_PS_THREAD_DEP ;
 int GEN7_PSD_SINGLE_PORT_DISPATCH_ENABLE ;
 int GEN7_ROW_CHICKEN2 ;
 int GEN7_SQ_CHICKEN_MBCUNIT_CONFIG ;
 int GEN7_SQ_CHICKEN_MBCUNIT_SQINTMOB ;
 int GEN7_UCGCTL4 ;
 int I915_READ (int ) ;
 int I915_WRITE (int ,int) ;
 int IVB_CHICKEN3 ;
 int L3SQ_URB_READ_CAM_MATCH_DISABLE ;
 int PIXEL_SUBSPAN_COLLECT_OPT_DISABLE ;
 int RC_OP_FLUSH_ENABLE ;
 int VLV_B0_WA_L3SQCREG1_VALUE ;
 int VLV_GUNIT_CLOCK_GATE ;
 int _3D_CHICKEN3 ;
 int _3D_CHICKEN_SF_DISABLE_OBJEND_CULL ;
 int _MASKED_BIT_DISABLE (int ) ;
 int _MASKED_BIT_ENABLE (int) ;
 int _MASKED_FIELD (int ,int ) ;
 int gen7_setup_fixed_func_scheduler (struct drm_i915_private*) ;

__attribute__((used)) static void vlv_init_clock_gating(struct drm_i915_private *dev_priv)
{

 I915_WRITE(_3D_CHICKEN3,
     _MASKED_BIT_ENABLE(_3D_CHICKEN_SF_DISABLE_OBJEND_CULL));


 I915_WRITE(IVB_CHICKEN3,
     CHICKEN3_DGMG_REQ_OUT_FIX_DISABLE |
     CHICKEN3_DGMG_DONE_FIX_DISABLE);



 I915_WRITE(GEN7_HALF_SLICE_CHICKEN1,
     _MASKED_BIT_ENABLE(GEN7_MAX_PS_THREAD_DEP |
          GEN7_PSD_SINGLE_PORT_DISPATCH_ENABLE));


 I915_WRITE(CACHE_MODE_0_GEN7, _MASKED_BIT_DISABLE(RC_OP_FLUSH_ENABLE));


 I915_WRITE(GEN7_L3SQCREG4, I915_READ(GEN7_L3SQCREG4) &
     ~L3SQ_URB_READ_CAM_MATCH_DISABLE);


 I915_WRITE(GEN7_ROW_CHICKEN2,
     _MASKED_BIT_ENABLE(DOP_CLOCK_GATING_DISABLE));


 I915_WRITE(GEN7_SQ_CHICKEN_MBCUNIT_CONFIG,
     I915_READ(GEN7_SQ_CHICKEN_MBCUNIT_CONFIG) |
     GEN7_SQ_CHICKEN_MBCUNIT_SQINTMOB);

 gen7_setup_fixed_func_scheduler(dev_priv);





 I915_WRITE(GEN6_UCGCTL2,
     GEN6_RCZUNIT_CLOCK_GATE_DISABLE);




 I915_WRITE(GEN7_UCGCTL4,
     I915_READ(GEN7_UCGCTL4) | GEN7_L3BANK2X_CLOCK_GATE_DISABLE);





 I915_WRITE(CACHE_MODE_1,
     _MASKED_BIT_ENABLE(PIXEL_SUBSPAN_COLLECT_OPT_DISABLE));
 I915_WRITE(GEN7_GT_MODE,
     _MASKED_FIELD(GEN6_WIZ_HASHING_MASK, GEN6_WIZ_HASHING_16x4));





 I915_WRITE(GEN7_L3SQCREG1, VLV_B0_WA_L3SQCREG1_VALUE);






 I915_WRITE(VLV_GUNIT_CLOCK_GATE, GCFG_DIS);
}
