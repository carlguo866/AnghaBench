
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int u64 ;
struct hfi1_devdata {int dummy; } ;


 scalar_t__ HFI1_CAP_IS_KSET (int ) ;
 int NO_INTEGRITY ;
 int SEND_DMA_CHECK_ENABLE_CHECK_BYPASS_VL_MAPPING_SMASK ;
 int SEND_DMA_CHECK_ENABLE_CHECK_ENABLE_SMASK ;
 int SEND_DMA_CHECK_ENABLE_CHECK_JOB_KEY_SMASK ;
 int SEND_DMA_CHECK_ENABLE_CHECK_OPCODE_SMASK ;
 int SEND_DMA_CHECK_ENABLE_CHECK_SLID_SMASK ;
 int SEND_DMA_CHECK_ENABLE_CHECK_VL_MAPPING_SMASK ;
 int SEND_DMA_CHECK_ENABLE_CHECK_VL_SMASK ;
 int SEND_DMA_CHECK_ENABLE_DISALLOW_BAD_PKT_LEN_SMASK ;
 int SEND_DMA_CHECK_ENABLE_DISALLOW_BYPASS_BAD_PKT_LEN_SMASK ;
 int SEND_DMA_CHECK_ENABLE_DISALLOW_PBC_STATIC_RATE_CONTROL_SMASK ;
 int SEND_DMA_CHECK_ENABLE_DISALLOW_RAW_IPV6_SMASK ;
 int SEND_DMA_CHECK_ENABLE_DISALLOW_RAW_SMASK ;
 int SEND_DMA_CHECK_ENABLE_DISALLOW_TOO_LONG_BYPASS_PACKETS_SMASK ;
 int SEND_DMA_CHECK_ENABLE_DISALLOW_TOO_LONG_IB_PACKETS_SMASK ;
 int SEND_DMA_CHECK_ENABLE_DISALLOW_TOO_SMALL_BYPASS_PACKETS_SMASK ;
 int SEND_DMA_CHECK_ENABLE_DISALLOW_TOO_SMALL_IB_PACKETS_SMASK ;
 int STATIC_RATE_CTRL ;
 int is_ax (struct hfi1_devdata*) ;

__attribute__((used)) static inline u64 hfi1_pkt_base_sdma_integrity(struct hfi1_devdata *dd)
{
 u64 base_sdma_integrity;


 if (HFI1_CAP_IS_KSET(NO_INTEGRITY))
  return 0;

 base_sdma_integrity =
 SEND_DMA_CHECK_ENABLE_DISALLOW_BYPASS_BAD_PKT_LEN_SMASK
 | SEND_DMA_CHECK_ENABLE_DISALLOW_TOO_LONG_BYPASS_PACKETS_SMASK
 | SEND_DMA_CHECK_ENABLE_DISALLOW_TOO_LONG_IB_PACKETS_SMASK
 | SEND_DMA_CHECK_ENABLE_DISALLOW_BAD_PKT_LEN_SMASK
 | SEND_DMA_CHECK_ENABLE_DISALLOW_TOO_SMALL_BYPASS_PACKETS_SMASK
 | SEND_DMA_CHECK_ENABLE_DISALLOW_TOO_SMALL_IB_PACKETS_SMASK
 | SEND_DMA_CHECK_ENABLE_DISALLOW_RAW_IPV6_SMASK
 | SEND_DMA_CHECK_ENABLE_DISALLOW_RAW_SMASK
 | SEND_DMA_CHECK_ENABLE_CHECK_BYPASS_VL_MAPPING_SMASK
 | SEND_DMA_CHECK_ENABLE_CHECK_VL_MAPPING_SMASK
 | SEND_DMA_CHECK_ENABLE_CHECK_OPCODE_SMASK
 | SEND_DMA_CHECK_ENABLE_CHECK_SLID_SMASK
 | SEND_DMA_CHECK_ENABLE_CHECK_VL_SMASK
 | SEND_DMA_CHECK_ENABLE_CHECK_ENABLE_SMASK;

 if (!HFI1_CAP_IS_KSET(STATIC_RATE_CTRL))
  base_sdma_integrity |=
  SEND_DMA_CHECK_ENABLE_DISALLOW_PBC_STATIC_RATE_CONTROL_SMASK;


 if (!is_ax(dd))
  base_sdma_integrity |=
   SEND_DMA_CHECK_ENABLE_CHECK_JOB_KEY_SMASK;

 return base_sdma_integrity;
}
