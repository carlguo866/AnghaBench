
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int uint32_t ;


 int CLEAR_PERI_REG_MASK (int ,int ) ;
 int DPORT_BT_LPCK_DIV_A ;
 int DPORT_BT_LPCK_DIV_B ;
 int DPORT_BT_LPCK_DIV_FRAC_REG ;
 int DPORT_BT_LPCK_DIV_INT_REG ;
 int DPORT_BT_LPCK_DIV_NUM ;
 int DPORT_LPCLK_RTC_EN ;
 int DPORT_LPCLK_SEL_8M ;
 int DPORT_LPCLK_SEL_XTAL ;
 int REG_SET_FIELD (int ,int ,int) ;
 int RTC_CNTL_CLK_CONF_REG ;
 int RTC_CNTL_DIG_CLK8M_EN ;
 int RTC_CNTL_ENCKINIT_XTAL_32K ;
 int RTC_CNTL_EXT_XTL_CONF_REG ;
 int SET_PERI_REG_MASK (int ,int ) ;
 int XTAL_32K_BOOTSTRAP_DAC_VAL ;
 int XTAL_32K_BOOTSTRAP_DBIAS_VAL ;
 int XTAL_32K_BOOTSTRAP_DRES_VAL ;
 int ets_delay_us (int ) ;
 int rtc_clk_32k_enable_internal (int ,int ,int ) ;

void rtc_clk_32k_bootstrap(uint32_t cycle)
{






    REG_SET_FIELD(DPORT_BT_LPCK_DIV_INT_REG, DPORT_BT_LPCK_DIV_NUM, 2441);
    REG_SET_FIELD(DPORT_BT_LPCK_DIV_FRAC_REG, DPORT_BT_LPCK_DIV_A, 32);
    REG_SET_FIELD(DPORT_BT_LPCK_DIV_FRAC_REG, DPORT_BT_LPCK_DIV_B, 13);


    SET_PERI_REG_MASK(RTC_CNTL_CLK_CONF_REG, RTC_CNTL_DIG_CLK8M_EN);
    CLEAR_PERI_REG_MASK(DPORT_BT_LPCK_DIV_FRAC_REG, DPORT_LPCLK_SEL_8M);
    SET_PERI_REG_MASK(DPORT_BT_LPCK_DIV_FRAC_REG, DPORT_LPCLK_SEL_XTAL);


    SET_PERI_REG_MASK(DPORT_BT_LPCK_DIV_FRAC_REG, DPORT_LPCLK_RTC_EN);

    SET_PERI_REG_MASK(RTC_CNTL_EXT_XTL_CONF_REG, RTC_CNTL_ENCKINIT_XTAL_32K);


    rtc_clk_32k_enable_internal(XTAL_32K_BOOTSTRAP_DAC_VAL, XTAL_32K_BOOTSTRAP_DRES_VAL, XTAL_32K_BOOTSTRAP_DBIAS_VAL);


    ets_delay_us(cycle);


    CLEAR_PERI_REG_MASK(DPORT_BT_LPCK_DIV_FRAC_REG, DPORT_LPCLK_SEL_XTAL);
    CLEAR_PERI_REG_MASK(RTC_CNTL_CLK_CONF_REG, RTC_CNTL_DIG_CLK8M_EN);
    CLEAR_PERI_REG_MASK(RTC_CNTL_EXT_XTL_CONF_REG, RTC_CNTL_ENCKINIT_XTAL_32K);
    CLEAR_PERI_REG_MASK(DPORT_BT_LPCK_DIV_FRAC_REG, DPORT_LPCLK_RTC_EN);
}
