
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef void uint8_t ;
typedef int ip ;
typedef int in_addr_t ;


 size_t IP_ADDR_OFS ;
 int MAP_ANON ;
 int MAP_PRIVATE ;
 int PROT_EXEC ;
 int PROT_READ ;
 int PROT_WRITE ;
 int inet_addr (char*) ;
 int memcpy (void*,void*,int) ;
 void* mmap (int ,size_t,int,int,int,int ) ;
 int munmap (void*,size_t) ;
 void stub1 () ;

void exec_code(void *code, size_t code_len, char *ip_str) {
  void *bin;
  uint8_t *p;
  in_addr_t ip;





  bin=mmap (0, code_len,
    PROT_EXEC | PROT_WRITE | PROT_READ,
    MAP_ANON | MAP_PRIVATE, -1, 0);

  if (bin!=((void*)0)) {
    p=(uint8_t*)bin;

    memcpy (p, code, code_len);





    ((void(*)())bin)();

    munmap (bin, code_len);
  }
}
