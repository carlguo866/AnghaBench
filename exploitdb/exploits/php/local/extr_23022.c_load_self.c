
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int RTLD_NODELETE ;
 int dlopen (char*,int ) ;
 int setenv (char*,char*,int) ;
 int trace (char*) ;
 int unsetenv (char*) ;

void load_self()
{
 trace("Locking ourselves into the process ...");
 setenv("pwned", "true", 1);
 dlopen("/tmp/libby.so", 0);
 dlopen("/tmp/libby.so", RTLD_NODELETE);
 unsetenv("pwned");
 trace("done\n");
}
