
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int exit (int) ;
 int perror (char*) ;
 int recv (int,void*,size_t,int) ;

void safe_recv(int s, void *buf, size_t len, int flags)
{
    int ret, received=0;

 do {
  ret = recv(s,buf+received,len-received,flags);
  switch(ret) {
  case -1:
   perror("recv");
   exit(1);
  default:
   received+=ret;
  }
 } while(ret);
}
