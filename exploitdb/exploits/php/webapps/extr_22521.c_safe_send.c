
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int exit (int) ;
 int perror (char*) ;
 int send (int,void*,size_t,int) ;

void safe_send(int s, void *buf, size_t len, int flags)
{
 int ret, sent=0;

 do {
  ret = send(s,buf+sent,len-sent,flags);
  switch(ret) {
  case -1:
   perror("send");
   exit(1);
  default:
   sent+=ret;
  }
 } while(ret);
}
