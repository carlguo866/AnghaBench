
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int uid_t ;
struct passwd {char* pw_name; scalar_t__ pw_gid; scalar_t__ pw_uid; } ;


 int MAX_UID_T_LEN ;
 struct passwd* getpwuid (int ) ;
 size_t r2s (int) ;
 int sprintf (char*,char*,long) ;
 int strlen (char*) ;

size_t
vudo_setenv( uid_t uid )
{
    struct passwd * pw;
    size_t setenv;
    char idstr[ MAX_UID_T_LEN + 1 ];


    pw = getpwuid( uid );
    if ( pw == ((void*)0) ) {
        return( 0 );
    }


    setenv = r2s( 16 );


    setenv += r2s( strlen("SUDO_USER=") + strlen(pw->pw_name) + 1 );
    setenv += r2s( 16 );


    sprintf( idstr, "%ld", (long)(pw->pw_uid) );
    setenv += r2s( strlen("SUDO_UID=") + strlen(idstr) + 1 );
    setenv += r2s( 16 );


    sprintf( idstr, "%ld", (long)(pw->pw_gid) );
    setenv += r2s( strlen("SUDO_GID=") + strlen(idstr) + 1 );
    setenv += r2s( 16 );

    return( setenv );
}
