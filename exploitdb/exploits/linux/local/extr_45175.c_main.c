
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int CMD_IDT ;




 int EXIT_FAILURE ;
 int EXIT_SUCCESS ;
 scalar_t__ PAGE_SIZE ;
 int arbitrary_read_init () ;
 int assert (int) ;
 int exit (int ) ;
 int g_cmd ;
 int g_pid ;
 scalar_t__ getpagesize () ;
 int getpid () ;
 int handle_cmd_idt () ;
 int handle_cmd_phys () ;
 int handle_cmd_pid () ;
 int handle_cmd_search () ;
 int handle_cmd_virt () ;
 int parse_args (int,char**) ;
 int physmap_init () ;
 int print_usage (char*) ;
 int pts_init (int ) ;

int main(int argc, char **argv) {
 assert(getpagesize() == PAGE_SIZE);

 if (!parse_args(argc, argv)) {
  print_usage(argv[0]);
  exit(EXIT_FAILURE);
 }

 arbitrary_read_init();

 if (g_cmd == CMD_IDT) {
  handle_cmd_idt();
  return EXIT_SUCCESS;
 }

 physmap_init();

 switch (g_cmd) {
 case 128:
  pts_init(getpid());
  handle_cmd_virt();
  break;
 case 131:
  pts_init(0);
  handle_cmd_phys();
  break;
 case 129:
  pts_init(0);
  handle_cmd_search();
  break;
 case 130:
  pts_init(g_pid);
  handle_cmd_pid();
  break;
 }

 return EXIT_SUCCESS;
}
