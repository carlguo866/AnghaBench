
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int CHUNK_SIZE ;
 int O_RDONLY ;
 int open (char const*,int ) ;
 int read (int,char*,int) ;

int read_file(const char* file, char* buffer, int max_length) {
 int f = open(file, O_RDONLY);
 if (f == -1)
  return -1;
 int bytes_read = 0;
 while (1) {
  int bytes_to_read = CHUNK_SIZE;
  if (bytes_to_read > max_length - bytes_read)
   bytes_to_read = max_length - bytes_read;
  int rv = read(f, &buffer[bytes_read], bytes_to_read);
  if (rv == -1)
   return -1;
  bytes_read += rv;
  if (rv == 0)
   return bytes_read;
 }
}
