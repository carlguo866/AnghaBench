
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int png_uint_32 ;
typedef int * png_structp ;
typedef int * png_infop ;
typedef int FILE ;


 int ERROR ;
 int OK ;
 int PNG_LIBPNG_VER_STRING ;
 int PNG_TRANSFORM_IDENTITY ;
 int fclose (int *) ;
 int * fopen (char*,char*) ;
 int * png_create_info_struct (int *) ;
 int * png_create_read_struct (int ,int *,int *,int *) ;
 int png_destroy_read_struct (int **,int **,int **) ;
 int ** png_infopp_NULL ;
 int png_init_io (int *,int *) ;
 int png_jmpbuf (int *) ;
 int png_read_png (int *,int *,int ,int ) ;
 int png_set_sig_bytes (int *,unsigned int) ;
 int png_voidp_NULL ;
 scalar_t__ setjmp (int ) ;

int read_png(char *file_name)
{
  png_structp png_ptr;
  png_infop info_ptr;
  unsigned int sig_read = 0;
  png_uint_32 width, height;
  int bit_depth, color_type, interlace_type;
  FILE *fp;

  if ((fp = fopen(file_name, "rb")) == ((void*)0))
      return (ERROR);







  png_ptr = png_create_read_struct(PNG_LIBPNG_VER_STRING,
      ((void*)0), ((void*)0), ((void*)0));

  if (png_ptr == ((void*)0))
  {
      fclose(fp);
      return (ERROR);
  }


  info_ptr = png_create_info_struct(png_ptr);
  if (info_ptr == ((void*)0))
  {
      fclose(fp);
      png_destroy_read_struct(&png_ptr, png_infopp_NULL, png_infopp_NULL);
      return (ERROR);
  }





  if (setjmp(png_jmpbuf(png_ptr)))
  {

      png_destroy_read_struct(&png_ptr, &info_ptr, png_infopp_NULL);
      fclose(fp);

      return (ERROR);
  }


  png_init_io(png_ptr, fp);


  png_set_sig_bytes(png_ptr, sig_read);
  png_read_png(png_ptr, info_ptr, PNG_TRANSFORM_IDENTITY, png_voidp_NULL);


  png_destroy_read_struct(&png_ptr, &info_ptr, png_infopp_NULL);


  fclose(fp);


  return (OK);
}
