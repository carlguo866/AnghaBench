
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int DUPTO ;
 int SIGUSR1 ;
 int SIGUSR2 ;
 scalar_t__ blah ;
 int catchme ;
 int dup2 (int ,int ) ;
 int exit (int ) ;
 int exitme ;
 int fork () ;
 int getppid () ;
 int kill (int ,int ) ;
 int pause () ;
 int ppid ;
 int signal (int ,int *) ;

void slab_helper(void)
{
 signal(SIGUSR1, &catchme);
 signal(SIGUSR2, &exitme);
 blah = 0;

 while (1) {
  while (!blah) pause();

  blah = 0;
  if (!fork()) {
   dup2(0, DUPTO);
   kill(getppid(), SIGUSR1);
   while (1) pause();
  } else {
   while (!blah) pause();
   blah = 0; kill(ppid, SIGUSR2);
  }
 }
 exit(0);
}
