
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int fprintf (int ,char*,unsigned short,unsigned short) ;
 int memcpy (unsigned char*,char*,int) ;
 int stderr ;

int pidcode(unsigned char * tgt, unsigned short pid)
{
fprintf(stderr, "pid=%d=0x%08x\n", pid, pid);
tgt[0]=0x31; tgt[1]=0xff;
tgt+=2;
 if((pid & 0xff) && (pid & 0xff00)){
 tgt[0]=0x66; tgt[1]=0xbf;
 *((unsigned short*)(tgt+2))=pid;
 return 6;
 }else{
 int n=2;

  if(pid & 0xff00){
  tgt[0]=0xB0; tgt[1]=(pid>>8);
  tgt+=2; n+=2;
  }

 memcpy(tgt,"\xC1\xE0\x08", 3); tgt+=3; n+=3;

  if(pid & 0xff){
  tgt[0]=0xB0; tgt[1]=pid;
  tgt+=2; n+=2;
  }
 tgt[0]=0x89; tgt[1]=0xC7;
 return n+2;
 }
}
