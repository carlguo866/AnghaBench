
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int BUFSIZE ;
 int MAP_ANONYMOUS ;
 int MAP_PRIVATE ;
 int PF_INET ;
 int PROT_READ ;
 int PROT_WRITE ;
 int fprintf (int ,char*) ;
 int getsockopt (int,int,int,void*,int*) ;
 void* mmap (int ,int,int,int,int ,int ) ;
 int perror (char*) ;
 int printf (char*) ;
 int socket (int ,int,int) ;
 int stderr ;
 int write (int,void*,int) ;

int main(int argc, char *argv[])
{
    void *mem = mmap(0, BUFSIZE, PROT_READ | PROT_WRITE,
               MAP_ANONYMOUS | MAP_PRIVATE, 0, 0);
    if (mem == (void*)-1) {
       printf("Alloc failed\n");
       return -1;
    }

    int s = socket(PF_INET, 6, 33);
    if (s == -1) {
       fprintf(stderr, "socket failure!\n");
       return 1;
    }

    int len = BUFSIZE;
    int x = getsockopt(s, 269, 11, mem, &len);

    if (x == -1)
       perror("SETSOCKOPT");
    else
       printf("SUCCESS\n");

    write(1, mem, BUFSIZE);

    return 0;
}
