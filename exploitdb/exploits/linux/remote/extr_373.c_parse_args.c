
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_3__ TYPE_1__ ;


struct TYPE_3__ {int align; void* parms_base; void* port; void* host; int retaddr; int retloc; void* pass; void* user; } ;
typedef TYPE_1__ args ;


 void* atoi (void*) ;
 int exit (int) ;
 int fprintf (int ,char*,char*,char*) ;
 int getopt (int,char**,char*) ;
 void* optarg ;
 int optind ;
 int sscanf (void*,char*,int *) ;
 int stderr ;
 char* usage ;

void parse_args(int argc, char **argv, args * argp)
{
    int c;

    while ((c = getopt(argc, argv, "a:u:p:l:r:b:h:o:")) != -1) {
 switch (c) {
 case 'a':
     if ((argp->align = atoi(optarg)) < 0 || argp->align > 3)
  goto pusage;
     break;
 case 'u':
     argp->user = optarg;
     break;
 case 'p':
     argp->pass = optarg;
     break;
 case 'l':
     sscanf(optarg, "%lx", &argp->retloc);
     break;
 case 'r':
     sscanf(optarg, "%lx", &argp->retaddr);
     break;
 case 'h':
     argp->host = optarg;
     break;
 case 'o':
     argp->port = atoi(optarg);
     break;
 case 'b':
     if ((argp->parms_base = atoi(optarg)) > 0)
  break;



   pusage:
 case ':':
 case '?':
 default:
     fprintf(stderr, "Usage: %s\n%s", argv[0], usage);
     exit(1);
 }
    }
    if (optind != argc || !argp->user || !argp->pass || !argp->retloc ||
 !argp->retaddr || !argp->host || !argp->port || !argp->parms_base)
 goto pusage;
}
