
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct sockaddr_in {int sin_addr; } ;
struct sockaddr {int dummy; } ;
typedef int client ;


 int accept (int ,struct sockaddr*,int*) ;
 int close (int ) ;
 scalar_t__ create_serv (int ,int) ;
 char* inet_ntoa (int ) ;
 int memset (struct sockaddr_in*,int ,int) ;
 int printf (char*,char*) ;
 int quit () ;
 int sendbuf (int ,char*,int) ;
 int socket (int,int,int ) ;
 int sockfd1 ;
 int sockfd2 ;

void storfile(char *s,int len,int port)
{
    int i;
    struct sockaddr_in client;

    memset(&client,0,sizeof(client));
    sockfd1=socket(2,1,0);
    if(create_serv(sockfd1,port)<0) quit();

    i=sizeof(client);
      sockfd2=accept(sockfd1,(struct sockaddr *)&client,&i);
      printf("[+] Accepted a client from %s\n",inet_ntoa(client.sin_addr));
      sendbuf(sockfd2,s,len);
      close(sockfd2);
    close(sockfd1);
}
