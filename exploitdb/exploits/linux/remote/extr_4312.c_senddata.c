
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct timeval {int tv_usec; int tv_sec; } ;
typedef int fd_set ;


 int FD_SET (int,int *) ;
 int FD_ZERO (int *) ;
 int memset (char*,int ,int) ;
 int read (int,int*,int) ;
 int select (int,int *,int *,int *,struct timeval*) ;
 int send (int,char*,int ,int ) ;
 int strlen (char*) ;
 int timeout ;

void senddata(int sock, char *data)
{
 int i,c=0,j;
 char au[4];
 fd_set ff;
 struct timeval tm;
 int r;

 FD_ZERO(&ff);
 FD_SET(sock,&ff);
 tm.tv_sec = timeout;
 tm.tv_usec = 30;
 memset(au,0,4);

 if(data){
  j=0;
   send(sock,data,strlen(data),0);
  for(;;){
   if(!(r=select(sock+1,&ff,((void*)0),((void*)0),&tm)))
    break;
   if((i=read(sock,&c,1))<=0)
    break;
  }
 }
}
