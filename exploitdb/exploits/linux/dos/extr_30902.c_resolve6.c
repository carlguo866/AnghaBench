
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct in6_addr {int s6_addr; } ;
struct addrinfo {int ai_addrlen; int ai_addr; int ai_family; } ;
typedef int out ;
typedef int addr_hints ;


 int AF_INET6 ;
 int NI_NUMERICHOST ;
 int exit (int) ;
 scalar_t__ getaddrinfo (unsigned char*,int *,struct addrinfo*,struct addrinfo**) ;
 scalar_t__ getnameinfo (int ,int ,unsigned char*,int,int *,int ,int ) ;
 scalar_t__ inet_pton (int ,unsigned char*,char*) ;
 char* malloc (int) ;
 int memcpy (char*,int ,int) ;
 int memset (struct addrinfo*,int ,int) ;
 int printf (char*) ;

char *resolve6(unsigned char *target) {
 char *ret_addr;
 struct in6_addr my_in6;
 char *glob_addr = (char *) &my_in6;
 struct addrinfo addr_hints, *addr_result;
 unsigned char out[64];

 memset(&addr_hints, 0, sizeof(addr_hints));
 addr_hints.ai_family = AF_INET6;

 if (getaddrinfo(target, ((void*)0), &addr_hints, &addr_result) != 0) {
  printf("getaddrinfo() error\n");
  exit(1);
 }
 if(getnameinfo(addr_result->ai_addr, addr_result->ai_addrlen,
out, sizeof(out), ((void*)0), 0, NI_NUMERICHOST) != 0){
  printf("getnameinfo() error\n");
  exit(1);
 }
 if(inet_pton(AF_INET6, out, glob_addr) < 0) {
  printf("inet_pton() error\n");
  exit(1);
 }
 if((ret_addr = malloc(16)) == ((void*)0)) {
  printf("malloc() error\n");
  exit(1);
 }
 memcpy(ret_addr, my_in6.s6_addr, 16);
 return ret_addr;
}
