
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int STREAM ;
typedef int BOOL ;


 int False ;
 scalar_t__ MCS_GLOBAL_CHANNEL ;
 int True ;
 int iso_connect (char*) ;
 int iso_disconnect () ;
 int mcs_recv_aucf (scalar_t__*) ;
 int mcs_recv_cjcf () ;
 int mcs_recv_connect_response (int ) ;
 int mcs_send_aurq () ;
 int mcs_send_cjrq (scalar_t__) ;
 int mcs_send_connect_initial (int ) ;
 int mcs_send_edrq () ;
 scalar_t__ mcs_userid ;

BOOL
mcs_connect(char *server, STREAM mcs_data)
{
 if (!iso_connect(server))
  return False;

 mcs_send_connect_initial(mcs_data);
 if (!mcs_recv_connect_response(mcs_data))
  goto error;

 mcs_send_edrq();

 mcs_send_aurq();
 if (!mcs_recv_aucf(&mcs_userid))
  goto error;

 mcs_send_cjrq(mcs_userid + 1001);
 if (!mcs_recv_cjcf())
  goto error;

 mcs_send_cjrq(MCS_GLOBAL_CHANNEL);
 if (!mcs_recv_cjcf())
  goto error;

 return True;

      error:
 iso_disconnect();
 return False;
}
