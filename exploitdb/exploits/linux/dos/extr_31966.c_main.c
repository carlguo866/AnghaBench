
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef scalar_t__ time_t ;
typedef int pthread_t ;


 scalar_t__ DEFAULT_TESTTIME ;
 int PTRACE_ATTACH ;
 int PTRACE_DETACH ;
 int SIGABRT ;
 int SIGINT ;
 int abort () ;
 int atexit (int ) ;
 scalar_t__ atoi (char*) ;
 int cleanup ;
 int fork () ;
 char* getenv (char*) ;
 int handler_fail ;
 int pause () ;
 int perror (char*) ;
 int pid ;
 scalar_t__ pthread_create (int *,int *,int ,void*) ;
 int ptrace (int ,int ,int *,int ) ;
 int signal (int ,int ) ;
 scalar_t__ strcmp (char const*,char*) ;
 int thread_func ;
 scalar_t__ time (int *) ;

int main(int argc, const char *argv[])
{
 char *testtime = getenv ("TESTTIME");
 time_t testend = time (((void*)0)) + (testtime != ((void*)0) ? atoi
(testtime)
        :
DEFAULT_TESTTIME);
 unsigned long loops;
 pthread_t thread;

 atexit (cleanup);
 signal (SIGABRT, handler_fail);
 signal (SIGINT, handler_fail);

 if ((argc != 2 || strcmp (argv[1], "child") != 0) && (pid =
fork())) {
  loops = 0;
  do {
   ptrace(PTRACE_ATTACH, pid, ((void*)0), 0);
   ptrace(PTRACE_DETACH, pid, ((void*)0), 0);
   loops++;
  } while (time (((void*)0)) < testend);
  return 0;
 }

 if (pthread_create(&thread, ((void*)0), thread_func, (void *)
argv[0]))
  perror("pthread_create");

 while (1)
  pause();

 abort ();
}
