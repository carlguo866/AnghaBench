
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int SSL_METHOD ;
typedef int SSL_CTX ;
typedef int SSL ;
typedef int BIO ;


 int BIO_NOCLOSE ;
 int * BIO_new_socket (int,int ) ;
 int CRYPTO_malloc_init () ;
 int * SSL_CTX_new (int *) ;
 scalar_t__ SSL_connect (int *) ;
 int SSL_library_init () ;
 int SSL_load_error_strings () ;
 int * SSL_new (int *) ;
 int SSL_set_bio (int *,int *,int *) ;
 int * SSLv23_client_method () ;

SSL *ssl_connect_to(int s) {
   SSL *ssl;
   SSL_CTX *ctx;
   BIO *sbio;
   SSL_METHOD *meth;

   CRYPTO_malloc_init();
   SSL_load_error_strings();
   SSL_library_init();


   meth = SSLv23_client_method();
   ctx = SSL_CTX_new(meth);
   ssl = SSL_new(ctx);
   sbio = BIO_new_socket(s, BIO_NOCLOSE);
   SSL_set_bio(ssl, sbio, sbio);

   if (SSL_connect(ssl) <= 0) {
      return ((void*)0);
   }

   return ssl;
}
