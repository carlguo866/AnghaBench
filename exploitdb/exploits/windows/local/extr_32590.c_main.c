
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;




typedef struct TYPE_18__ TYPE_8__ ;
typedef struct TYPE_17__ TYPE_7__ ;
typedef struct TYPE_16__ TYPE_6__ ;
typedef struct TYPE_15__ TYPE_5__ ;
typedef struct TYPE_14__ TYPE_4__ ;
typedef struct TYPE_13__ TYPE_3__ ;
typedef struct TYPE_12__ TYPE_2__ ;
typedef struct TYPE_11__ TYPE_1__ ;


struct TYPE_15__ {void* s_addr; } ;
struct TYPE_16__ {void* sin_family; TYPE_5__ sin_addr; } ;
struct TYPE_17__ {TYPE_6__ Ipv4; } ;
struct TYPE_11__ {void* s_addr; } ;
struct TYPE_12__ {void* sin_family; TYPE_1__ sin_addr; } ;
struct TYPE_13__ {TYPE_2__ Ipv4; void* si_family; } ;
struct TYPE_14__ {void* PrefixLength; TYPE_3__ Prefix; } ;
struct TYPE_18__ {int ValidLifetime; int PreferredLifetime; int Metric; int Origin; int Protocol; scalar_t__ SitePrefixLength; TYPE_7__ NextHop; TYPE_4__ DestinationPrefix; void* InterfaceIndex; } ;
typedef TYPE_8__ MIB_IPFORWARD_ROW2 ;
typedef int DWORD ;


 void* AF_INET ;
 int CreateIpForwardEntry2 (TYPE_8__*) ;
 int InitializeIpForwardEntry (TYPE_8__*) ;
 int MIB_IPPROTO_NETMGMT ;
 int NlroManual ;
 void* atoi (char*) ;
 void* inet_addr (char*) ;
 int printf (char*,char*) ;

int main(int argc, char** argv)
{
        DWORD dwStatus;
        MIB_IPFORWARD_ROW2 route;

        if (argc != 3)
        {
                printf("Usage: %s <ifNum> <numOfBits>\n\n", argv[0]);
                return -1;
        }

        InitializeIpForwardEntry(&route);

        route.InterfaceIndex = atoi(argv[1]);
        route.DestinationPrefix.Prefix.si_family = AF_INET;

        route.DestinationPrefix.Prefix.Ipv4.sin_addr.s_addr = inet_addr("1.2.3.0");
        route.DestinationPrefix.Prefix.Ipv4.sin_family = AF_INET;

        route.DestinationPrefix.PrefixLength = atoi(argv[2]);

        route.NextHop.Ipv4.sin_addr.s_addr = inet_addr("11.22.33.44");
        route.NextHop.Ipv4.sin_family = AF_INET;

        route.SitePrefixLength = 0;

        route.Protocol = MIB_IPPROTO_NETMGMT;
        route.Origin = NlroManual;
        route.ValidLifetime = 0xffffffff;
        route.PreferredLifetime = 0xffffffff;
        route.Metric = 1;

        dwStatus = CreateIpForwardEntry2(&route);
        return dwStatus;
}
