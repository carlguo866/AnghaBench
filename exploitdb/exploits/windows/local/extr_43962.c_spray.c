
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int F_SETPIPE_SZ ;
 int RING_SIZE ;
 int fcntl (int,int ,int ) ;
 scalar_t__ pipe (int*) ;
 int printf (char*) ;

int spray(size_t count) {
 int exec[2];
 int pipe_capacity = 0, ret = 0;

 for (size_t i = 0; i < count; ++i) {
  if (pipe(exec) < 0) {
   printf("[*err*] pipe\n");
   ret = -1;
   goto cleanup;
  }

  pipe_capacity = fcntl(exec[1], F_SETPIPE_SZ, RING_SIZE);
  if(pipe_capacity < 0) {
   printf("[*err*] fcntl return neg capacity\n");
   ret = -1;
   goto cleanup;
  }

  ret += pipe_capacity;
 }

cleanup:
 return ret;
}
