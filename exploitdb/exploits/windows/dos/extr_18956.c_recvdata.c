
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int SOCKET_ERROR ;
 int WSACleanup () ;
 int WSAGetLastError () ;
 int closesocket (int ) ;
 int conn_socket ;
 int fflush (int ) ;
 int fprintf (int ,char*,int) ;
 int* inBuffer ;
 int memset (int*,int ,int) ;
 int printf (char*,...) ;
 int recv (int ,int*,int,int ) ;
 int stderr ;
 int stdout ;

void recvdata() {
 int i=0;
 int retval=0;
 memset(inBuffer,0,128);

 retval = recv(conn_socket, inBuffer, 128, 0);
 printf("retval is :%d\n", retval);
 printf("first char is: %x\n", inBuffer[0]);
 if (retval == SOCKET_ERROR)
   {
  fprintf(stderr,"Client: recv() failed: error %d.\n", WSAGetLastError());
  closesocket(conn_socket);
  WSACleanup();
  return;
 }
 else {
  printf("Client: recv() is OK.\n");



  for (i=0;i<retval;i++) {
   printf("%c", inBuffer[i]);

  }
  printf("\n");
  fflush(stdout);
   }

}
