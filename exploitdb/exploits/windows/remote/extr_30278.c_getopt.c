
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int EOF ;
 char* optarg ;
 int optind ;
 char* strchr (char*,char) ;
 scalar_t__ strcmp (char*,char*) ;

int getopt(int argc, char *argv[], char *optstring)
{
 static char *next = ((void*)0);
 if (optind == 0)
  next = ((void*)0);

 optarg = ((void*)0);

 if (next == ((void*)0) || *next == '\0')
 {
  if (optind == 0)
   optind++;

  if (optind >= argc || argv[optind][0] != '-' || argv[optind][1] == '\0')
  {
   optarg = ((void*)0);
   if (optind < argc)
    optarg = argv[optind];
   return EOF;
  }

  if (strcmp(argv[optind], "--") == 0)
  {
   optind++;
   optarg = ((void*)0);
   if (optind < argc)
    optarg = argv[optind];
   return EOF;
  }

  next = argv[optind];
  next++;
  optind++;
 }

 char c = *next++;
 char *cp = strchr(optstring, c);

 if (cp == ((void*)0) || c == ':')
  return '?';

 cp++;
 if (*cp == ':')
 {
  if (*next != '\0')
  {
   optarg = next;
   next = ((void*)0);
  }
  else if (optind < argc)
  {
   optarg = argv[optind];
   optind++;
  }
  else
  {
   return '?';
  }
 }

 return c;
}
