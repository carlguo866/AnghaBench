
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct RPCBIND {void* InterfaceVerMin; void* InterfaceVerMaj; int InterfaceUUID; } ;
typedef int rbuf ;
typedef int RPCBind ;
typedef int HANDLE ;
typedef int DWORD ;
typedef int BYTE ;


 int PRPC ;
 int TransactNamedPipe (int ,struct RPCBIND*,int,int *,int,int *,int *) ;
 int UuidFromString (char*,int *) ;
 int UuidToString (int *,char**) ;
 void* atoi (char*) ;
 int memcpy (struct RPCBIND*,int *,int) ;

int BindRpcInterface(HANDLE PH, char *Interface, char *InterfaceVer)
{
       BYTE rbuf[0x1000];
       DWORD dw;
       struct RPCBIND RPCBind;

       memcpy(&RPCBind,&PRPC,sizeof(RPCBind));
       UuidFromString(Interface,&RPCBind.InterfaceUUID);
       UuidToString(&RPCBind.InterfaceUUID,&Interface);
       RPCBind.InterfaceVerMaj=atoi(&InterfaceVer[0]);
       RPCBind.InterfaceVerMin=atoi(&InterfaceVer[2]);
       TransactNamedPipe(PH, &RPCBind, sizeof(RPCBind), rbuf, sizeof(rbuf), &dw, ((void*)0));
       return 0;
}
