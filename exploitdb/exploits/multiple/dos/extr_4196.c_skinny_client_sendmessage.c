
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct skinny_client_message {int len; struct skinny_client_message* data; } ;
struct skinny_client {int sd; } ;


 char* malloc (int) ;
 int memcpy (char*,struct skinny_client_message*,int) ;
 int memset (char*,int,int) ;
 int printf (char*,int) ;
 int write (int ,char*,int) ;

int skinny_client_sendmessage(struct skinny_client *sc, struct skinny_client_message *scm)
{
 int res;
 int len;
 char *outbuf;
 int test;

 len = 90;
 scm->len = 3;
 outbuf = malloc(len);
 if (!outbuf) {
  return -1;
 }
 memset(outbuf,0x41,len);

 memcpy(outbuf,scm,12);

 memcpy(outbuf+12,scm->data,len-12);
 res = write(sc->sd,outbuf,len);
 printf("++ Wrote %i bytes\n", res);
 return 0;
}
