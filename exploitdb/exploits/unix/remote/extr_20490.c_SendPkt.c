
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int u_long ;
struct sockaddr_in {int dummy; } ;
struct sockaddr {int dummy; } ;


 int MakeDNSPkt (char*,char*,int,char*,char*,int ) ;
 int PACKETSZ ;
 int fprintf (int ,char*) ;
 int perror (char*) ;
 int sendto (int,char*,int,int ,struct sockaddr*,int) ;
 int stderr ;

int SendPkt(int sd, char *rbuf, char *answer, char *additional, u_long ttl,
 struct sockaddr_in *to, int tolen)
{
 char sbuf[PACKETSZ];
 int slen, sent;

 slen = MakeDNSPkt(rbuf, sbuf, PACKETSZ, answer, additional, ttl);
 if(!slen)
 {
  fprintf(stderr, "error building answer packet\n");
  return(-1);
 }
 if((sent = sendto(sd, sbuf, slen, 0, (struct sockaddr *)to, tolen)) < 0)
 {
  perror("sending answer packet");
  return(sent);
 }
 return(sent);
}
