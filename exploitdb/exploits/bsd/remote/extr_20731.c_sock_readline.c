
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int read (int,char*,int) ;

int sock_readline(int sock, char *buffer, int maxsize)
{
    int x, r;
    char rchar;

    for(x = 0; x < maxsize; x++)
    {

 if((r = read(sock, &rchar, 1)) == 1)
 {
     buffer[x] = rchar;

     if(rchar == '\n')
  break;
 }
 else
     return -1;
    }

    return x;
}
