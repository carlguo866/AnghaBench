
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






typedef int u_int ;
typedef int u_char ;


 int strlen (char*) ;
 int strtoul (char*,char**,int) ;

u_int ip_to_int(char *ip, int *err){
  char *inv,*s;
  u_char ret[4];
  int a;
  u_int tmp;

 if(ip == ((void*)0) || strlen(ip) < 7) return 0;
 s=ip;
 for( a=0; a < 4; a++){
    tmp=strtoul(s,&inv,10);
    if( (*inv != '.' && *inv!=0) || tmp < 0 || tmp > 255 ) {
     if(err != ((void*)0))*err=1;
     return 0;
    }
    ret[a]=tmp;
    s=++inv;
 }

 if(err != ((void*)0))*err=0;
 return *((u_int*)ret);

}
