
typedef unsigned long size_t;
typedef long intptr_t; typedef unsigned long uintptr_t;
typedef long scalar_t__;

typedef int bool;
 int SETVAL ;
 void* atoi (char*) ;
 void* idx ;
 int printf (char*) ;
 int semctl (int ,void*,int ,void*) ;
 int semid ;
 int sscanf (char*,char*,void**) ;
 char* strchr (char*,char) ;
 int strncmp (char*,char*,int) ;
 void* val ;

void do_write(char *buf){
 char *p;


 if((p = strchr(buf, ' ')) == ((void*)0)){
  printf("w must take parameters\n");
  return;
 }

 p++;
 idx = atoi(p);

 if((p = strchr(p, ' ')) == ((void*)0)){
  printf("w needs a value to write\n");
  return;
 }

 p++;

 if(!strncmp(p, "0x", 2))
  sscanf(p, "0x%x", &val);
 else
  val = atoi(p);
 semctl(semid, idx, SETVAL, val);
}
